<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Github Workflow</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/dracula.css">

	<!-- Theme used for syntax highlighted code -->
	<!-- <link rel="stylesheet" href="plugin/highlight/monokai.css"> -->
</head>
<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h2 id="github-workflow">GitHub Workflow</h2>
				<p>Comment va-t-on s&#39;organiser grâce à GitHub ?</p>
			</section>
			<section>
				<h2 id="o-offrant">O + Offrant</h2>
				<ul>
					<li>2 projets<ul>
							<li>Back-end</li>
							<li>Front-end</li>
						</ul>
					</li>
					<li>Même logique dans GitHub pour la soumission des modifications apporter dans le code.</li>
				</ul>
			</section>
			<section>
				<h2 id="github-workflow">GitHub workflow</h2>
				<p>Dans l&#39;ordre des actions <em>recommandées</em></p>
				<ol>
					<li>Créer une <strong>branche</strong></li>
					<li>Faire une modification dans le code</li>
					<li>Créer une <strong>pull request</strong></li>
					<li>La review du code</li>
					<li>Merge votre <strong>pull request</strong></li>
					<li>Supprimer la branche</li>
				</ol>
			</section>
			<section>
				<p><img src="./img/architecture-github.png" alt="architecture"></p>
			</section>
			<section>
				<h2 id="1-cr-er-une-branche">1. Créer une branche</h2>
				<ul>
					<li>
						Bonne pratique = ne pas travailler sur la branche <strong>master</strong>
					</li>
					<li>
						Se positionner sur la <strong>branche develop</strong> (development)
					</li>
					<li>A partir de la branche develop, créer une branche relative à l&#39;issue.
						(Exemple ajouter une navbar)
					</li>
				</ul>
				<pre>
					<code class="lang-sh">
git checkout develop
git checkout -b navbar
					</code>
				</pre>
			</section>
			<section>
				<h2 id="2-modifier-le-code">2. Modifier le code</h2>
				<p>Dans la branche navbar</p>
				<pre>
					<code class="lang-sh">
git status
git add A
git commit -m "Add search bar to navbar"
...
git add -A
git commit -m "Add logo to navbar"
					</code>
				</pre>
				<ul>
					<li>Les commentaires des commits doivent être en anglais.</li>
				</ul>
				<p>Lorsque que l&#39;on est satisfait des modifications apportées</p>
				<pre>
					<code class="lang-sh">git push </code>
				</pre>
			</section>
			<section>
				<h2 id="3-cr-er-une-pull-request">3. Créer une pull request</h2>
				<ul>
					<li>Pour créer une pull request on se retrouve sur GitHub</li>
				</ul>
				<p><img src="./img/pull-request.png" alt="pull-request"></p>
				<ul>
					<li>Clique sur Compare &amp; pull request</li>
				</ul>
			</section>
			<section>
				<p><img src="./img/develop-to-branch.png" alt="develop to branch"></p>
				<p>Et on compare par rapport à la <strong>branche develop</strong></p>
			</section>
			<section>
				<h2 id="4-review-du-code">4. Review du code</h2>
				<p>Ensuite il y a une review</p>
				<ul>
					<li>
						2 situations possibles
					</li>
					<img src="https://media.giphy.com/media/dBdgBKZAQapzoxD668/giphy.gif" alt="2 situations">
				</ul>
			</section>
			<section>
				<ul>
					<li>Soit le code est validé = pull request mergée sur la branche develop et l&#39;issue fermée.</li>
				</ul>
				<p><img src="https://media.giphy.com/media/Wlmx7EzlZuwNQVtryR/giphy.gif" alt="genius"></p>
			</section>
			<section>
				<ul>
					<li>
						Soit il y a discussion, modification puis validation.
					</li>
					<img src="https://media.giphy.com/media/l1J9uLBPjqCVIM2GI/giphy.gif" alt="confrontation">
				</ul>
			</section>
			<section>
				<ul>
					<li>Il existe un 3ème cas: <strong>les conflits</strong></li>
					<img src="https://media.giphy.com/media/NTur7XlVDUdqM/giphy.gif" alt="conflits">
					<p>Des conflits surviennent souvent lorsque des coéquipiers travaillent sur différentes branche
					</p>
					<p>s qui affectent un fichier commun.</p>
				</ul>
			</section>
			<section>
				<p> <img src="img/conflit-pull-request.png" alt="conflit pull request"></p>
				<p> Sa branche ne reflète plus l&#39;état de la branche <strong>develop</strong> et que la branche
					develop <strong>a changé parce que quelqu&#39;un d&#39;autre a fusionné</strong> (avant lui)
					<strong>les changements</strong> affectant son ou ses fichiers.
				</p>
			</section>
			<section>
				<h3>Ne pas paniquer !!</h3>
				<p> <img src="https://media.giphy.com/media/1FMaabePDEfgk/giphy.gif" alt="panic"></p>
			</section>
			<section>
				<p> Créer quand même une <strong>pull request</strong></p>
				<p> <img src="img/create-pull-request.png" alt="create pull request"></p>
			</section>

			<section>
				<p>Essayer de <b>résoudre</b> le conflit</p>
				<img src="img/resolve-conflicts.png" alt="">
				<p>Peut être directement résolu depuis l'éditeur de GitHub</p>
			</section>
			<section>
				<p>Si résolu dans GitHub </p>
				<ul>
					<li>Appuyer sur <strong>Mark as resolved</strong></li>
				</ul>
				<p><img src="img/mark-as-resolve.png" alt="mark as resolved"></p>
				<ul>
					<li>Puis cliquer sur le bouton <strong>Commit merge</strong></li>
				</ul>
				<p><img src="img/commit-merge.png" alt="commit merge"></p>
			</section>
			<section>
				<p>Ensuite, si tout se passe bien la branche est libérée du conflit et la pull request peut être mergée
					sur la branche develop.</p>
				<p><img src="https://media.giphy.com/media/enf5VE8mu4lFVYbt6M/giphy.gif" alt="hourra"></p>
			</section>
			<section>
				<p>Une bonne pratique pour éviter les <strong>merge conflicts</strong>:</p>
				<ol>
					<li>C&#39;est revenir sur la <strong>branche develop</strong> et de <strong>pull</strong> (pour
						récupérer les modifications).</li>
				</ol>
				<pre>
					<code class="lang-sh">
git branch
develop
navbar

git checkout develop
git pull
					</code>
				</pre>
			</section>
			<section>
				<ul>
					<li>
						Revenir sur la branche sur laquelle vous travaillez et merger cette branche sur la banche
						develop (gérer les conflits s&#39;il y en a).
					</li>
				</ul>
				<pre>
					<code class="lang-sh">
git checkout navbar

git merge develop
# You make some changes on the files of the navbar branch
					</code>
				</pre>
				<ul>
					<li>Une fois les modifications faites, faire un push suivi d&#39;une pull request sur GitHub.</li>
				</ul>
				<pre>
					<code class="lang-sh">
git add-A
git commit -m "Change conflit on navbar"
git push
				</code>
			</pre>
			</section>
			<section>
				<section>
					<h2>git stash / git stash pop</h2>
					<img src="https://media.giphy.com/media/1zSz5MVw4zKg0/giphy-downsized-large.gif" alt="ho no">
				</section>
				<section>
					<h2>Situation</h2>
					<p>Message suivant indiqué par Git</p>
					<pre>
						<code>
git checkout dev
error: Your local changes to the following files would be overwritten by 
checkout:
    index.html
Please, commit your changes or stash them before you can switch 
branches.
						</code>
					</pre>
					<pre>
<p>(en français)</p>
					<code>
git checkout dev
error: Vos modifications locales aux fichiers suivants seraient écrasées par la fusion :
    index.html
Veuillez valider ou remiser vos modifications avant la fusion.

					</code>
					</pre>
				</section>
				<section>
					<h2>Qu'est ce qui se passe ?</h2>
					<p>Vous n'avez pas <strong>encore validé (commit)</strong> vos modifications et vous risquez de perte votre travail si vous forcez le changement de branche</p>
					<p><strong>Raison ?</strong></p>
					<p>
						Vous voulez changer de branche pour une raison X (souvant faire une pull sur la branche develop)
						mais git me l'interdit et me demande de soit <em>valider</em> (= git add ., git commit -m "") soit ... <em>remiser</em> (= git stash)
					</p>					
				</section>
				<section>
					<h2>2 solutions</h2>
					<ol>
						<li>Soit vous validez vos modifications avec un commit dans votre branche de travail puis vous changez de branche.</li>
					</ol>
					<pre>
						<code>
git branch
develop
*  navbar

git add .
git commit -m "commit un peu pourri pour (débloquer) valider la situation et apres changer de branche"
git checkout develop
						</code>
					</pre>
				</section>
				<section>
					<p>2. Soit vous <em>"remiser"</em> vos modifications pour plus tard</p>
					<pre>
						<code>
git branch
develop
*  navbar

# Je remise les modifications pour plus tard car je ne suis pas encore près à commiter.
git stash 
git checkout develop

# Je regarde bien que je suis sur une autre branche.
git branch
*   develop
navbar

# Je récupère les modifications de la branche develop.
git pull

# Je retrouve vers ma branche de travail.
git checkout navbar

# Je libère ma remise (mes modifications).
git stash pop

						</code>
					</pre>
				</section>
				<section>
					<h2>git stash</h2>
					<p>
						Le stashing est pratique si :
					</p>
					<ul>
						<li>vous avez besoin de <em>changer</em> rapidement de <strong>contexte</strong> et de <strong>travailler sur autre chose</strong></li>
						<li>mais que vous êtes en <em>plein dans un changement de code</em> et que n'êtes <strong>pas</strong> tout à fait <strong>prêt à commiter.</strong></li>
					</ul>
				</section>
				<section>
					<h2>Mini conclusion pour git stash</h2>
					<ol>
						<li>Soit vous débloquez la situation avec un commit</li>
						<li>Soit vous utilisez le stashing pour remiser vos modifications à plus tard</li>
						<li><strong>Si utilisation de git stash ne pas oublier git stash pop pour libérer la "remise"</strong></li>
					</ol>
				</section>
			</section>
			<section>
				<h1 id="conclusion-">Conclusion :</h1>
				<ul>
					<li>Créer une <em>nouvelle branche à partir de la branche develop</em> (pas master).</li>
					<li>
						<em>Soumettre les pull request</em> sur GitHub par <em>rapport à la branche develop</em> (pas
					par rapport à master).
					</li>
					<ul>
						<li>Avant de soumettre une pull request sur GitHub <em>une bonne pratique</em> et de <em>récupérer
							les modifications de de la branche develop</em> et de régler les conflits de sa branche en
						interne.
						</li>
					</ul>
				</ul>
			</section>
			<section>
				<h1 id="r-f-rences-">Références :</h1>
				<ul>
					<li><a href="https://www.freecodecamp.org/news/how-to-use-git-and-github-in-a-team-like-a-pro/">How
							to Use Git and GitHub in a Team like a Pro</a></li>
					<li><a href="https://revealjs.com/">reveal.js</a></li>
				</ul>
			</section>
			<section>
				<pre><code class="lang-sh">
git branch
navbar

git checkout develop

git pull

git checkout navbar

git merge develop
				
# You make some changes on the files of the navbar branch</span>
				
git add -A

git commit -m "Change conflit on navbar"
					
git push
					</code>
				</pre>
			</section>
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>
</html>